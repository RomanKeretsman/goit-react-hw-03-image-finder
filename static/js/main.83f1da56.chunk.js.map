{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Loader/Loader.module.scss","components/Button/Button.module.scss","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","services/imagesApi.js","App.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","Searchbar","state","query","handleChange","event","value","target","setState","handleSubmit","preventDefault","props","onSubmit","reset","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","src","alt","data-source","ImageGalleryItemImage","ImageGallery","images","onClick","map","id","defaultProps","styledLoader","Loader","color","height","width","Button","modalRoot","document","querySelector","Modal","handleKeydown","keyCode","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","React","axios","defaults","baseURL","searchQuery","currentPage","pageSize","get","then","responce","data","App","isLoading","showModal","largeImageUrl","handleQueryChange","fetchImages","options","imagesApi","hits","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","alert","console","log","finally","openModal","nodeName","dataset","source","closeModal","prevProps","existImagesToShow","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.83f1da56.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1hwqY\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3EPfJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2jIsU\",\"Modal\":\"Modal_Modal__12KlS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2jPcN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__1BJRy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__xakTg\"};","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport class Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  // метод записи в state ввода запроса в инпут\r\n\r\n  handleChange = event => {\r\n    const { value } = event.target;\r\n    this.setState({ query: value });\r\n  };\r\n\r\n  // метод при submit на кнопке формы\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const { query } = this.state;\r\n\r\n    this.props.onSubmit(query);\r\n    this.reset();\r\n  };\r\n\r\n  // метод для сброса параметра query в state\r\n\r\n  reset = () => {\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            value={query}\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import styles from './ImageGalleryItem.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL }) => (\r\n  <li className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      alt=\"\"\r\n      data-source={largeImageURL}\r\n      className={styles.ImageGalleryItemImage}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem';\r\nimport styles from './ImageGallery.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, onClick }) => (\r\n  <ul className={styles.ImageGallery} onClick={onClick}>\r\n    {images.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        webformatURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.defaultProps = {\r\n  onClick: () => {},\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({ id: PropTypes.number.isRequired }),\r\n  ).isRequired,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import Loader from 'react-loader-spinner';\r\nimport styles from './Loader.module.scss';\r\n\r\nconst styledLoader = () => (\r\n  <Loader\r\n    className={styles.Loader}\r\n    type=\"Circles\"\r\n    color=\"tomato\"\r\n    height={80}\r\n    width={80}\r\n  />\r\n);\r\n\r\nexport default styledLoader;\r\n","import styles from './Button.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" onClick={onClick} className={styles.Button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  // Close modal on Esc button\r\n  handleKeydown = event => {\r\n    const { keyCode } = event;\r\n    if (keyCode === 27) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  // Close modal on backdrop click\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nimport axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\nconst API_KEY = '20726897-5533683f6552092b306b2e1ad';\r\n\r\nconst fetchGetImages = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) =>\r\n  axios\r\n    .get(\r\n      `/?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\r\n    )\r\n    .then(responce => responce.data);\r\n\r\nexport default { fetchGetImages };\r\n","import React from 'react';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Loader from './components/Loader';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nimport imagesApi from './services/imagesApi';\n\nimport './App.scss';\n\nclass App extends React.Component {\n  state = {\n    images: [],\n    searchQuery: '',\n    currentPage: 1,\n    isLoading: false,\n    showModal: false,\n    largeImageUrl: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery } = this.state;\n    if (searchQuery !== prevState.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  handleQueryChange = query => {\n    this.setState({ images: [], searchQuery: query, currentPage: 1 });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery: searchQuery, currentPage: currentPage };\n\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchGetImages(options)\n      .then(({ hits }) => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .then(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => {\n        alert('Error, please try again');\n        console.log(error);\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  openModal = event => {\n    const { target } = event;\n    if (target.nodeName === 'IMG') {\n      this.setState({ showModal: true, largeImageUrl: target.dataset.source });\n    }\n  };\n\n  closeModal = () => {\n    this.setState({ showModal: false, largeImageUrl: '' });\n  };\n\n  render() {\n    const { images, isLoading, showModal, largeImageUrl } = this.state;\n    const existImagesToShow = images.length > 0;\n\n    return (\n      <div className='App'>\n        <Searchbar onSubmit={this.handleQueryChange} />\n        <ImageGallery images={images} onClick={this.openModal} />\n        {showModal && (\n          <Modal onClose={this.closeModal}>\n            <img src={largeImageUrl} alt=\"\" />\n          </Modal>\n        )}\n        {isLoading && <Loader />}\n        {existImagesToShow && !isLoading && (\n          <Button onClick={this.fetchImages} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1p3_K\",\"SearchForm\":\"Searchbar_SearchForm__3_9c2\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3ckkb\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__18NeH\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3ZRid\"};"],"sourceRoot":""}